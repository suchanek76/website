<!doctype html>
<html lang="cs">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vzít batoh a jít</title>
<style>
:root{
  --dark-blue:#041633;
  --overlay-gradient: linear-gradient(to top, rgba(0,0,0,0.65), rgba(0,0,0,0));
}
html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto;}
body{background-color:var(--dark-blue);color:white;overflow-x:hidden;}

/* Panorama nahoře */
.hero{
  position:relative;
  width:100%;
  height:60vh;
  min-height:320px;
  background:url('https://picsum.photos/1600/900?random=999') no-repeat top center;
  background-size:contain;
  background-color:#000;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
}
.hero::after{
  content:'';
  position:absolute;
  left:0;right:0;bottom:0;height:40%;
  background:linear-gradient(to bottom, rgba(0,0,0,0), rgba(4,22,51,0.9));
}

/* Nadpis a navigace */
.hero h1{
  position:relative;
  z-index:2;
  font-size:clamp(30px,5vw,54px);
  text-shadow:0 2px 10px rgba(0,0,0,0.7);
  margin:0;
}
.nav{
  position:relative;
  z-index:2;
  display:flex;
  gap:12px;
  margin-top:18px;
}
.btn{
  background:rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.2);
  border-radius:8px;
  padding:10px 16px;
  color:white;
  cursor:pointer;
  font-weight:600;
  transition:background .2s;
}
.btn:hover{background:rgba(255,255,255,0.25);}
.btn.active{background:white;color:var(--dark-blue);}

/* Galerie překrývá panoráma */
main{
  position:relative;
  margin-top:-80px; /* galerie výš – překrývá panoráma */
  z-index:3;
  background:linear-gradient(to bottom, rgba(4,22,51,0.8) 0%, var(--dark-blue) 60%);
  padding-top:100px;
  padding-bottom:80px;
}
.container{
  width:95%;
  max-width:1200px;
  margin:0 auto;
}

/* Galerie mřížka */
.gallery{
  display:grid;
  gap:16px;
}
.grid-3{grid-template-columns:repeat(3,1fr);}
.grid-4{grid-template-columns:repeat(4,1fr);}
@media(max-width:1000px){
  .grid-3{grid-template-columns:repeat(2,1fr);}
  .grid-4{grid-template-columns:repeat(2,1fr);}
}
@media(max-width:600px){
  .grid-3,.grid-4{grid-template-columns:1fr;}
}

/* Fotokarty 3:2 */
.photo-card{
  position:relative;
  overflow:hidden;
  border-radius:8px;
  cursor:pointer;
  background:#000;
}
.photo-card .photo{
  aspect-ratio:3/2;
  width:100%;
  object-fit:cover;
  display:block;
  transition:transform .35s ease;
}
.photo-card:hover .photo{transform:scale(1.04);}
.photo-overlay{
  position:absolute;
  left:0;right:0;bottom:0;padding:10px;
  background:linear-gradient(to top,rgba(0,0,0,0.7),rgba(0,0,0,0));
}
.photo-title{font-weight:700;font-size:14px;}
.photo-sub{font-size:12px;opacity:0.9;margin-top:2px;}

/* Modal */
.modal-backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,0.7);
  display:flex;align-items:center;justify-content:center;
  z-index:9999;padding:24px;opacity:0;pointer-events:none;transition:opacity .15s;
}
.modal-backdrop.show{opacity:1;pointer-events:auto;}
.modal{
  width:100%;max-width:900px;max-height:90vh;
  background:#071431;border-radius:10px;padding:20px;color:#fff;overflow:auto;
}
.modal-close{position:absolute;top:20px;right:20px;background:none;border:none;color:white;font-size:22px;cursor:pointer;}
.modal-main-image{width:100%;border-radius:6px;object-fit:cover;margin:10px 0;}
.thumb-row{display:flex;gap:8px;flex-wrap:wrap;}
.thumb-row img{width:calc((100% - 24px)/4);height:80px;object-fit:cover;border-radius:4px;cursor:pointer;border:2px solid transparent;}
.thumb-row img.selected{border-color:white;}
.nav-arrow{position:absolute;top:50%;transform:translateY(-50%);font-size:28px;background:rgba(0,0,0,0.4);border:none;color:white;padding:8px 10px;border-radius:50%;cursor:pointer;}
.nav-arrow.left{left:8px;} .nav-arrow.right{right:8px;}
</style>
</head>
<body>

<header class="hero">
  <h1>Vzít batoh a jít</h1>
  <div class="nav">
    <button class="btn active" data-route="koruna">Koruna Evropy</button>
    <button class="btn" data-route="alpy">Alpské čtyřtisícovky</button>
    <button class="btn" data-route="nepal">Nepál</button>
  </div>
</header>

<main>
  <div class="container">
    <section id="koruna" data-route-content>
      <div id="koruna-gallery" class="gallery grid-3"></div>
    </section>
    <section id="alpy" data-route-content hidden>
      <div id="alpy-gallery" class="gallery grid-3"></div>
    </section>
    <section id="nepal" data-route-content hidden>
      <div id="nepal-gallery" class="gallery grid-4"></div>
    </section>
  </div>
</main>

<div id="modal-backdrop" class="modal-backdrop" hidden>
  <div class="modal">
    <button class="modal-close" id="modal-close">✕</button>
    <div id="modal-content"></div>
  </div>
</div>

<script>
/* --- Data --- */
function makeData(n, name, baseHeight){
  return Array.from({length:n},(_,i)=>({
    id:`${name}-${i}`,
    img:`https://picsum.photos/900/600?random=${i+1000}`,
    title:`${name} hora ${i+1}`,
    height:`${baseHeight+i*5} m`,
    country:['Česko','Itálie','Rakousko','Francie','Švýcarsko'][i%5],
    date:`${2010+(i%14)}-${String((i%12)+1).padStart(2,'0')}-${String((i%28)+1).padStart(2,'0')}`,
    team:`Team ${i%6+1}`,
    extras:[
      `https://picsum.photos/900/600?random=${i+3000}`,
      `https://picsum.photos/900/600?random=${i+3100}`,
      `https://picsum.photos/900/600?random=${i+3200}`,
      `https://picsum.photos/900/600?random=${i+3300}`
    ]
  }));
}
const koruna=makeData(45,'Koruna',2300);
const alpy=makeData(82,'Alpy',3800);
const nepal=makeData(40,'Nepál',5200);

/* --- Render --- */
const korEl=document.getElementById('koruna-gallery');
const alpEl=document.getElementById('alpy-gallery');
const nepEl=document.getElementById('nepal-gallery');
function photoCard(item,onclick){
  const d=document.createElement('div');
  d.className='photo-card';
  d.innerHTML=`<img class="photo" src="${item.img}" alt="${item.title}">
    <div class="photo-overlay">
      <div class="photo-title">${item.title}</div>
      <div class="photo-sub">${item.height} · ${item.country} · ${item.date}</div>
    </div>`;
  d.addEventListener('click',()=>onclick(item));
  return d;
}
function renderGallery(el,items,onclick){
  el.innerHTML='';
  items.forEach(it=>el.appendChild(photoCard(it,onclick)));
}

/* --- Modal --- */
const modal=document.getElementById('modal-backdrop');
const modalC=document.getElementById('modal-content');
const modalClose=document.getElementById('modal-close');
modalClose.onclick=()=>{modal.classList.remove('show');setTimeout(()=>modal.hidden=true,150);}
function openModal(html){
  modalC.innerHTML=html;
  modal.hidden=false;
  setTimeout(()=>modal.classList.add('show'),10);
}
modal.addEventListener('click',e=>{if(e.target===modal)modalClose.click();});

/* Koruna detail */
function korunaDetail(it){
  openModal(`<h3>${it.title} — ${it.height}</h3>
  <div>${it.country} · ${it.date}</div>
  <div style="margin:8px 0;font-size:14px;">Výstupový team: <strong>${it.team}</strong></div>
  <img class="modal-main-image" src="${it.img}">
  <p style="font-size:14px;opacity:0.9;">Krátký popis výletu na ${it.title}. Výstup byl nádherný, s výhledem na okolní pohoří a ideálním počasím.</p>
  <div class="thumb-row">${it.extras.map((u,i)=>`<img src="${u}" onclick="this.closest('.modal').querySelector('.modal-main-image').src='${u}';Array.from(this.parentNode.children).forEach(x=>x.classList.remove('selected'));this.classList.add('selected');" ${i==0?'class="selected"':''}>`).join('')}</div>`);
}

/* Alpy detail */
function alpyDetail(it){
  openModal(`<h3>${it.title} — ${it.height}</h3>
  <div>${it.country} · ${it.date}</div>
  <img class="modal-main-image" src="${it.img}">`);
}

/* Nepál slideshow */
let nepalIndex=0;
function nepalShow(idx){
  nepalIndex=(idx+nepal.length)%nepal.length;
  const it=nepal[nepalIndex];
  openModal(`<div style="position:relative;">
    <h3>${it.title} — ${it.height}</h3>
    <div>${it.country} · ${it.date}</div>
    <img class="modal-main-image" src="${it.img}">
    <button class="nav-arrow left" onclick="nepalShow(${nepalIndex-1})">◀</button>
    <button class="nav-arrow right" onclick="nepalShow(${nepalIndex+1})">▶</button>
  </div>`);
}

/* Render all */
renderGallery(korEl,koruna,korunaDetail);
renderGallery(alpEl,alpy,alpyDetail);
renderGallery(nepEl,nepal,(it)=>nepalShow(nepal.findIndex(x=>x.id===it.id)));

/* --- Routing --- */
const buttons=document.querySelectorAll('.btn');
const sections=document.querySelectorAll('[data-route-content]');
function showSection(id){
  sections.forEach(s=>s.hidden=s.id!==id);
  buttons.forEach(b=>b.classList.toggle('active',b.dataset.route===id));
}
buttons.forEach(b=>b.addEventListener('click',()=>{showSection(b.dataset.route);}));
showSection('koruna');
</script>
</body>
</html>
