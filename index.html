<!doctype html>
<html lang="cs">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vzít batoh na záda a jít ...</title>
<style>
:root {
  --dark-blue: #041633;
  --accent: #ffffff;
  --max-width: 1200px;
}
*{box-sizing:border-box;margin:0;padding:0;}
html,body{
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  color:var(--accent);
  background:var(--dark-blue);
  overflow-x:hidden;
  scroll-behavior:auto!important;
}

/* Hero */
.hero{
  position:relative;
  width:100%;
  height:100vh;
  background:var(--dark-blue);
  overflow:hidden;
}
.hero-bg{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
}
.hero-bg img{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
}
.hero-overlay{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding-top:40vh;
}
.nav{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;}
.btn{
  background:rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.25);
  padding:14px 22px;
  color:white;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
  transition:background .25s,transform .2s;
}
.btn:hover{background:rgba(255,255,255,0.3);transform:scale(1.04);}
.btn.active{background:#fff;color:var(--dark-blue);}

/* Galerie */
main{position:relative;z-index:3;padding:60px 0 80px;}
.container{width:95%;max-width:var(--max-width);margin:0 auto;}
.gallery { display: grid; gap: 16px; }

/* --- Galerie Koruna + Alpy --- */
.grid-3 { grid-template-columns: repeat(3, 1fr); }

/* --- Galerie Nepál zůstává .grid-4 beze změny --- */
.grid-4 { grid-template-columns: repeat(4, 1fr); }

/* Tablet (šířka pod 1000px) → stále 3 fotky */
@media (max-width: 1000px) {
  .grid-3 { grid-template-columns: repeat(3, 1fr); }
}

/* Mobil na šířku → 2 fotky */
@media (max-width: 800px) and (orientation: landscape) {
  .grid-3 { grid-template-columns: repeat(2, 1fr); }
}

/* Mobil na výšku → 1 fotka */
@media (max-width: 600px) and (orientation: portrait) {
  .grid-3 { grid-template-columns: 1fr; }
}

/* --- Modální okno (Koruna, Alpy) --- */
.modal .img-grid {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(3, 1fr);
}

/* Tablet */
@media (max-width: 1000px) {
  .modal .img-grid { grid-template-columns: repeat(3, 1fr); }
}

/* Mobil na šířku */
@media (max-width: 800px) and (orientation: landscape) {
  .modal .img-grid { grid-template-columns: repeat(2, 1fr); }
}

/* Mobil na výšku */
@media (max-width: 600px) and (orientation: portrait) {
  .modal .img-grid { grid-template-columns: 1fr; }
}

/* Karty */
.photo-card{position:relative;overflow:hidden;border-radius:10px;cursor:pointer;background:#000;}
.photo-card img.photo{width:100%;aspect-ratio:3/2;object-fit:cover;transition:transform .35s ease;}
.photo-card:hover img.photo{transform:scale(1.04);}
.photo-overlay{
  position:absolute;left:0;right:0;bottom:0;padding:10px;
  background:linear-gradient(to top,rgba(0,0,0,0.7),rgba(0,0,0,0));
}
.photo-title{font-weight:700;font-size:14px;}
.photo-sub{font-size:12px;opacity:0.9;margin-top:3px;}

/* Modal */
.modal-backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,0.7);
  display:flex;align-items:center;justify-content:center;
  z-index:9999;padding:24px;
  opacity:0;pointer-events:none;transition:opacity .18s;
}
.modal-backdrop.show{opacity:1;pointer-events:auto;}
.modal{
  width:100%;max-width:980px;max-height:92vh;background:#071431;
  border-radius:10px;padding:22px 24px;color:#fff;overflow:auto;position:relative;
}
.modal-close{
  position:absolute;right:16px;top:16px;background:none;border:none;
  color:white;font-size:22px;cursor:pointer;
}
.modal h3{font-size:20px;font-weight:700;margin-bottom:8px;}
.modal hr{margin:10px 0 16px 0;border:none;border-top:1px solid rgba(255,255,255,0.15);}
.modal .meta-grid{display:grid;grid-template-columns:150px 1fr;gap:4px 10px;font-size:14px;opacity:.95;margin-bottom:10px;line-height:1.4;}
.modal .meta-grid div:first-child{font-weight:600;color:#d8e2ff;}
.modal .img-grid .grid-img{width:100%;aspect-ratio:3/2;object-fit:cover;border-radius:8px;cursor:pointer;}
.modal .povidani {
  font-size: 14px;
  opacity: .95;
  margin-top: 6px;
  line-height: 1.6;
  text-align: justify;
  white-space: pre-line;      /* respektuje nové řádky (\n) */
  text-indent: 1.5em;         /* odsazení prvního řádku odstavce */
}

/* Fullscreen */
.modal.fullscreen{background:#000;max-width:none;max-height:none;width:100%;height:100%;padding:0;display:flex;align-items:center;justify-content:center;}
.modal.fullscreen img.main{max-height:90vh;max-width:95vw;object-fit:contain;border-radius:10px;}
.modal.fullscreen h3{position:absolute;top:20px;left:30px;color:white;text-shadow:0 2px 5px rgba(0,0,0,0.8);}
.modal.fullscreen .modal-close{position:absolute;top:18px;right:24px;font-size:30px;background:none;border:none;color:white;cursor:pointer;z-index:10;}
.modal.fullscreen .nav-arrow{background:none;border:none;color:white;font-size:40px;cursor:pointer;position:absolute;top:50%;transform:translateY(-50%);padding:20px;opacity:0.6;transition:opacity .2s;}
.modal.fullscreen .nav-arrow:hover{opacity:1;}
.modal.fullscreen .nav-arrow.left{left:20px;}
.modal.fullscreen .nav-arrow.right{right:20px;}
.fade { opacity:0; transition:opacity .4s ease; }
.fade.show { opacity:1; }

@media(max-width:900px){
  .hero-overlay{padding-top:35vh;}
  .btn{padding:12px 18px;font-size:15px;}
  .modal .meta-grid{grid-template-columns:120px 1fr;}
}
@media(max-width:600px){
  .hero-overlay{padding-top:30vh;}
  .nav{flex-direction:column;gap:10px;}
  .btn{width:180px;text-align:center;}
  .modal .meta-grid{grid-template-columns:100px 1fr;}
}
</style>
</head>
<body>

<header class="hero">
  <div class="hero-bg"><img src="https://raw.githubusercontent.com/suchanek76/website/main/images/background.jpg" alt=""></div>
  <div class="hero-overlay">
    <div class="nav">
      <button class="btn active" data-route="koruna">Koruna Evropy</button>
      <button class="btn" data-route="alpy">Alpské čtyřtisícovky</button>
      <button class="btn" data-route="nepal">Nepál</button>
    </div>
  </div>
</header>

<main>
  <div class="container">
    <section id="koruna" data-route-content><div id="koruna-gallery" class="gallery grid-3"></div></section>
    <section id="alpy" data-route-content hidden><div id="alpy-gallery" class="gallery grid-3"></div></section>
    <section id="nepal" data-route-content hidden><div id="nepal-gallery" class="gallery grid-4"></div></section>
  </div>
</main>

<div id="modal-backdrop" class="modal-backdrop" hidden><div class="modal"><div id="modal-content"></div></div></div>
<footer>© Vzít batoh na záda a jít ...</footer>

<script>
const RAW="https://raw.githubusercontent.com/suchanek76/website/main/images";

/* ---------- Obrázkové funkce ---------- */
const imgKoruna = i => i===0 ? `${RAW}/Koruna/Koruna000.jpg` : `${RAW}/Koruna/Koruna${String(i).padStart(3,'0')}.jpg`;
const imgAlpy   = i => i===0 ? `${RAW}/4000/ctyrtisicovka000.jpg` : `${RAW}/4000/ctyrtisicovka${String(i).padStart(3,'0')}.jpg`;
const imgNepal  = i => i===0 ? `${RAW}/Nepal/Nepal000.jpg` : `${RAW}/Nepal/Nepal${String(i).padStart(2,'0')}.jpg`;


/* ---------- Data: Koruna Evropy ---------- */
const korunaData = [
{p:"1",hora:"Mont Blanc",v:"4807",z:"Francie / Itálie",d:"31. 8. 2007",cas:"7:09",team:"1. Karel, Duštič, 2. Mrňous, Radka, Petr Moravec",obt:"B",pohori:"Alpy",imgs:[11,12,13,14,15,16,17,18,19],povidani:"Popis výstupu bude ještě doplněn"},
{p:"2",hora:"Dufourspitze",v:"4634",z:"Švýcarsko",d:"",cas:"",team:"",obt:"",pohori:"Alpy",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"3",hora:"Grossglockner",v:"3798",z:"Rakousko",d:"30. 6. 2025",cas:"11:18",team:"Karel, Bára, Luky",obt:"B",pohori:"Alpy",imgs:[31,32,33,34,35,36,37,38,39],povidani:"Popis výstupu bude ještě doplněn"},
{p:"4",hora:"Mulhacén",v:"3479",z:"Španělsko",d:"10. 9. 2022",cas:"14:13",team:"Karel, Míša, Pedro",obt:"A",pohori:"Sierra Nevada, nejvyšší hora Tenerife je Pico de Teide (3718 m n. m.)",imgs:[41],povidani:"Popis výstupu bude ještě doplněn"},
{p:"5",hora:"Zugspitze",v:"2962",z:"Německo",d:"21. 6. 2025",cas:"9:20",team:"Karel",obt:"",pohori:"Alpy",imgs:[51],povidani:"Popis výstupu bude ještě doplněn"},
{p:"6",hora:"Coma Pedrosa",v:"2942",z:"Andorra",d:"",cas:"",team:"",obt:"",pohori:"Pyreneje",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"7",hora:"Musala",v:"2925",z:"Bulharsko",imgs:[0],povidani:"Popis výstupu bude ještě doplněn",pohori:"Rila, nejvyšší hora celého Balkánu"},
{p:"8",hora:"Mytikas",v:"2917",z:"Řecko",d:"",cas:"",team:"",obt:"",pohori:"Olymp",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"9",hora:"Triglav",v:"2864",z:"Slovinsko",d:"25. 7. 2022",cas:"10:22",team:"1. 7:01 Marťas, Luky, Terka H, Michal H, 2. Karel, Bára, Bára H, Eva K",obt:"",pohori:"Alpy",imgs:[91,92,93,94,95,96,97,98,99],povidani:"Popis výstupu bude ještě doplněn"},
{p:"10",hora:"Velký Korab",v:"2764",z:"Albánie / Makedonie",d:"",cas:"",team:"",obt:"",pohori:"Korab",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"11",hora:"Gerlachovský štít",v:"2655",z:"Slovensko",d:"24. 7. 2021",cas:"9:09",team:"1. Marťas, Terka, Karel, 2. Lada, Helča, Rasťa",obt:"",pohori:"Vysoké Tatry",imgs:[111],povidani:"Popis výstupu bude ještě doplněn"},
{p:"12",hora:"Vorder Grauspitz",v:"2599",z:"Lichtenštejnsko",d:"6. 9. 2025",cas:"12:17",team:"Karel, Luky",obt:"",pohori:"Alpy",imgs:[121],povidani:"Popis výstupu bude ještě doplněn"},
{p:"13",hora:"Moldoveanu",v:"2544",z:"Rumunsko",d:"",cas:"",team:"",obt:"",pohori:"Fagaraš",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"14",hora:"Zla Kolata",v:"2534",z:"Černá Hora",d:"",cas:"",team:"",obt:"",pohori:"Dinárské hory",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"15",hora:"Rysy",v:"2499",z:"Polsko",d:"21. 9. 2024",cas:"10:21",team:"Karel",obt:"",pohori:"Vysoké Tatry, hlavní vrchol je na území Slovenska (2503 m n. m.)",imgs:[151],povidani:"Popis výstupu bude ještě doplněn"},
{p:"16",hora:"Galdhøpiggen",v:"2469",z:"Norsko",d:"7. 7. 2022",cas:"13:02",team:"Karel, Luky",obt:"",pohori:"Skandinávské pohoří",imgs:[161],povidani:"Popis výstupu bude ještě doplněn"},
{p:"17",hora:"Bosanski Maglić",v:"2386",z:"Bosna a Hercegovina",d:"",cas:"",team:"",obt:"",pohori:"Dinárské hory",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"18",hora:"Midžur",v:"2169",z:"Srbsko",d:"",cas:"",team:"",obt:"",pohori:"Stara planina, nejvyšší hora Kosova je Djeravica (2656 m n. m.)",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"19",hora:"Hvannadalshnjúkur",v:"2110",z:"Island",d:"",cas:"",team:"",obt:"",pohori:"Öræfajökull",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"20",hora:"Kebnekaise",v:"2103",z:"Švédsko",d:"",cas:"",team:"",obt:"",pohori:"Skandinávské hory",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"21",hora:"Hoverla",v:"2061",z:"Ukrajina",d:"",cas:"",team:"",obt:"",pohori:"Čornohora",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"22",hora:"Torre",v:"1993",z:"Portugalsko",d:"28. 3. 2025",cas:"14:05",team:"Karel, Marťas, Luky, Bára, Klárka",obt:"",pohori:"Serra da Estrela, nejvyšší hora Azor je Ponta do Pico (2351 m n. m.)",imgs:[221],povidani:"Popis výstupu bude ještě doplněn"},
{p:"23",hora:"Narodnaja",v:"1895",z:"Rusko",d:"",cas:"",team:"",obt:"",pohori:"Ural, podle jiné hranice Evropy Elbrus (5642 m n. m.)",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"24",hora:"Sinjal",v:"1831",z:"Chorvatsko",d:"",cas:"",team:"",obt:"",pohori:"Dinárské hory",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"25",hora:"Sněžka",v:"1603",z:"Česko",d:"",cas:"",team:"",obt:"",pohori:"Krkonoše",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"26",hora:"Ben Nevis",v:"1344",z:"Spojené království",d:"",cas:"",team:"",obt:"",pohori:"Skotská vysočina",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"27",hora:"Halti",v:"1324",z:"Finsko",d:"",cas:"",team:"",obt:"",pohori:"Skandinávské pohoří, vrchol hory je na území Norska (1365 m n. m.)",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"28",hora:"Carrauntoohil",v:"1041",z:"Irsko",d:"",cas:"",team:"",obt:"",pohori:"Macgillycuddy's Reeks",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"29",hora:"Mahya Dağı",v:"1031",z:"Turecko",d:"",cas:"",team:"",obt:"",pohori:"Strandža, nejvyšší hora asijské části je Ararat (5137 m n. m.)",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"30",hora:"Kékes",v:"1014",z:"Maďarsko",d:"17. 8. 2023",cas:"10:39",team:"Karel, Luky",obt:"",pohori:"Mátra",imgs:[301],povidani:"Popis výstupu bude ještě doplněn"},
{p:"31",hora:"Monte Titano",v:"756",z:"San Marino",d:"",cas:"",team:"",obt:"",pohori:"Apeniny",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"32",hora:"Signal de Botrange",v:"694",z:"Belgie",d:"6. 10. 2024",cas:"18:32",team:"Karel, Marťas, Luky, Bára, Klárka",obt:"",pohori:"Ardeny",imgs:[321],povidani:"Popis výstupu bude ještě doplněn"},
{p:"33",hora:"Kneiff",v:"560",z:"Lucembursko",d:"6. 10. 2024",cas:"20:32",team:"Karel, Marťas, Luky, Bára, Klárka",obt:"",pohori:"Ardeny",imgs:[331],povidani:"Popis výstupu bude ještě doplněn"},
{p:"34",hora:"Dealul Bălănești",v:"430",z:"Moldavsko",d:"",cas:"",team:"",obt:"",pohori:"Volyňsko-podolská vyvýšenina",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"35",hora:"Dzjaržynskaja hara",v:"345",z:"Bělorusko",d:"",cas:"",team:"",obt:"",pohori:"Běloruské vrchy",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"36",hora:"Vaalserberg",v:"322",z:"Nizozemsko",d:"6. 10. 2024",cas:"17:26",team:"Karel, Marťas, Luky, Bára, Klárka",obt:"",pohori:"Ardeny, nejvyšší hora Saby je Mount Scenery (887 m n. m.)",imgs:[361],povidani:"Popis výstupu bude ještě doplněn"},
{p:"37",hora:"Suur Munamägi",v:"318",z:"Estonsko",d:"",cas:"",team:"",obt:"",pohori:"Haanijská vysočina",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"38",hora:"Gaiziņkalns",v:"312",z:"Lotyšsko",d:"",cas:"",team:"",obt:"",pohori:"Vidzemské vrchy",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"39",hora:"Aukštojas",v:"294",z:"Litva",d:"",cas:"",team:"",obt:"",pohori:"Běloruské vrchy",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"40",hora:"Ta' Dmejrek",v:"253",z:"Malta",d:"",cas:"",team:"",obt:"",pohori:"Dingli Cliffs",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"41",hora:"Møllehøj",v:"171",z:"Dánsko",d:"",cas:"",team:"",obt:"",pohori:"nejvyšší hora Grónska je Gunnbjørn (3694 m)",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"42",hora:"Chemin des Révoires",v:"161",z:"Monako",d:"",cas:"",team:"",obt:"",pohori:"Alpy, cesta na svahu francouzské hory Mont Agel (1148 m n. m.)",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"},
{p:"43",hora:"Vatikánské zahrady",v:"75",z:"Vatikán",d:"",cas:"",team:"",obt:"",pohori:"nejde o horu",imgs:[0],povidani:"Popis výstupu bude ještě doplněn"}
];

/* ---------- Data: Alpy 4000 ---------- */
const alpyData = [
{p:"1",hora:"Mont Blanc",v:"4 807",z:"Francie / Itálie",d:"31. 8. 2007",cas:"7:09",team:"1. Karel, Duštič, 2. Mrňous, Radka, Petr Moravec",obt:"B",pohori:"Mont Blank",imgs:[11,11,11,11,],povidani:""},
{p:"2",hora:"Mont Blanc di Courmayeur",v:"4 765",z:"Itálie",obt:"B+",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"3",hora:"Dufourspitze",v:"4 634",z:"Švýcarsko",obt:"B+",pohori:"Monte Rosa",imgs:[0],povidani:""},
{p:"4",hora:"Nordend",v:"4 609",z:"Švýcarsko",obt:"B+",pohori:"Monte Rosa",imgs:[0],povidani:""},
{p:"5",hora:"Zumsteinspitze",v:"4 563",z:"Itálie / Švýcarsko",team:"Karel, Luky",obt:"B-",pohori:"Monte Rosa",imgs:[51,51],povidani:""},
{p:"6",hora:"Punta Gnifetti",v:"4 554",z:"Itálie / Švýcarsko",team:"Karel, Luky",obt:"B-",pohori:"Monte Rosa",imgs:[61],povidani:""},
{p:"7",hora:"Dom",v:"4 545",z:"Švýcarsko",obt:"B",pohori:"Mischabel",imgs:[0],povidani:""},
{p:"8",hora:"Lyskamm orientale",v:"4 527",z:"Itálie / Švýcarsko",obt:"C-",pohori:"Liskamm",imgs:[0],povidani:""},
{p:"9",hora:"Weisshorn",v:"4 506",z:"Švýcarsko",obt:"C",pohori:"Weisshorn",imgs:[0],povidani:""},
{p:"10",hora:"Täschhorn",v:"4 491",z:"Švýcarsko",obt:"B+",pohori:"Mischabel",imgs:[0],povidani:""},
{p:"11",hora:"Lyskamm occidentale",v:"4 479",z:"Itálie / Švýcarsko",obt:"B",pohori:"Liskamm",imgs:[0],povidani:""},
{p:"12",hora:"Matterhorn",v:"4 478",z:"Itálie / Švýcarsko",obt:"C",pohori:"Matterhorn",imgs:[0],povidani:""},
{p:"13",hora:"Pic Luigi Amedeo",v:"4 470",z:"Itálie",obt:"C",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"14",hora:"Mont Maudit",v:"4 468",z:"Francie / Itálie",obt:"B+",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"15",hora:"Parrotspitze",v:"4 432",z:"Itálie / Švýcarsko",obt:"B-",pohori:"Monte Rosa",imgs:[0],povidani:""},
{p:"16",hora:"Dent Blanche",v:"4 357",z:"Švýcarsko",obt:"B",pohori:"Matterhorn",imgs:[0],povidani:""},
{p:"17",hora:"Ludwigshöhe",v:"4 341",z:"Itálie / Švýcarsko",team:"Karel, Luky",obt:"B-",pohori:"Monte Rosa",imgs:[171,172],povidani:""},
{p:"18",hora:"Nadelhorn",v:"4 327",z:"Švýcarsko",obt:"B+",pohori:"Mischabel",imgs:[0],povidani:""},
{p:"19",hora:"Corno Nero",v:"4 322",z:"Itálie",obt:"B+",pohori:"Monte Rosa",imgs:[0],povidani:""},
{p:"20",hora:"Combin de Grafeneire",v:"4 314",z:"Švýcarsko",obt:"C-",pohori:"Grand Combin",imgs:[0],povidani:""},
{p:"21",hora:"Dôme du Goûter",v:"4 306",z:"Francie",obt:"B",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"22",hora:"Lenzspitze",v:"4 294",z:"Švýcarsko",obt:"C",pohori:"Mischabel",imgs:[0],povidani:""},
{p:"23",hora:"Finsteraarhorn",v:"4 274",z:"Švýcarsko",obt:"B+",pohori:"Jungfrau",imgs:[0],povidani:""},
{p:"24",hora:"Mont Blanc du Tacul",v:"4 248",z:"Francie / Itálie",obt:"B-",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"25",hora:"Grande Pilier d'Angle",v:"4 243",z:"Itálie",obt:"D",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"26",hora:"Stecknadelhorn",v:"4 241",z:"Švýcarsko",obt:"B+",pohori:"Mischabel",imgs:[0],povidani:""},
{p:"27",hora:"Castor",v:"4 228",z:"Itálie / Švýcarsko",obt:"B-",pohori:"Liskamm",imgs:[0],povidani:""},
{p:"28",hora:"Zinalrothorn",v:"4 221",z:"Švýcarsko",obt:"C-",pohori:"Weisshorn",imgs:[0],povidani:""},
{p:"29",hora:"Hohbärghorn",v:"4 019",z:"Švýcarsko",obt:"B+",pohori:"Mischabel",imgs:[0],povidani:""},
{p:"30",hora:"Piramide Vincent",v:"4 215",z:"Itálie / Švýcarsko",team:"Karel, Luky",obt:"B-",pohori:"Monte Rosa",imgs:[301],povidani:""},
{p:"31",hora:"Punta Walker",v:"4 206",z:"Itálie",obt:"C-",pohori:"Grandes Jorasses",imgs:[0],povidani:""},
{p:"32",hora:"Alphubel",v:"4 206",z:"Švýcarsko",obt:"B",pohori:"Allalinhorn",imgs:[0],povidani:""},
{p:"33",hora:"Rimpfischhorn",v:"4 199",z:"Švýcarsko",obt:"B+",pohori:"Allalinhorn",imgs:[0],povidani:""},
{p:"34",hora:"Aletschhorn",v:"4 195",z:"Švýcarsko",obt:"B+",pohori:"Jungfrau",imgs:[0],povidani:""},
{p:"35",hora:"Strahlhorn",v:"4 190",z:"Švýcarsko",obt:"B-",pohori:"Allalinhorn",imgs:[0],povidani:""},
{p:"36",hora:"Combin de Valsorey",v:"4 184",z:"Švýcarsko",obt:"C-",pohori:"Grand Combin",imgs:[0],povidani:""},
{p:"37",hora:"Pointe Whymper",v:"4 180",z:"Itálie",obt:"C",pohori:"Grandes Jorasses",imgs:[0],povidani:""},
{p:"38",hora:"Dent d'Hérens",v:"4 171",z:"Švýcarsko",obt:"B+",pohori:"Matterhorn",imgs:[0],povidani:""},
{p:"39",hora:"Breithorn West",v:"4 164",z:"Itálie / Švýcarsko",obt:"A",pohori:"Liskamm",imgs:[0],povidani:""},
{p:"40",hora:"Breithorn central",v:"4 159",z:"Itálie / Švýcarsko",obt:"A",pohori:"Liskamm",imgs:[0],povidani:""},
{p:"41",hora:"Jungfrau",v:"4 158",z:"Švýcarsko",obt:"B",pohori:"Jungfrau",imgs:[0],povidani:""},
{p:"42",hora:"Bishorn",v:"4 153",z:"Švýcarsko",obt:"B-",pohori:"Weisshorn",imgs:[0],povidani:""},
{p:"43",hora:"Combin de la Tsessette",v:"4 141",z:"Švýcarsko",obt:"C-",pohori:"Grand Combin",imgs:[0],povidani:""},
{p:"44",hora:"Breithorn Est",v:"4 139",z:"Itálie / Švýcarsko",obt:"B-",pohori:"Liskamm",imgs:[0],povidani:""},
{p:"45",hora:"Aiguille Verte",v:"4 122",z:"Francie",obt:"C+",pohori:"Aiguille Verte",imgs:[0],povidani:""},
{p:"46",hora:"L'Isolée",v:"4 114",z:"Francie",obt:"D+",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"47",hora:"Aiguille Blanche de Peuterey",v:"4 114",z:"Itálie",obt:"C+",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"48",hora:"Punta Carmen",v:"4 109",z:"Itálie",obt:"D+",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"49",hora:"Punta Croz",v:"4 108",z:"Itálie",obt:"C",pohori:"Grandes Jorasses",imgs:[0],povidani:""},
{p:"50",hora:"Breithornzwillinge",v:"4 106",z:"Švýcarsko",obt:"B+",pohori:"Liskamm",imgs:[0],povidani:""},
{p:"51",hora:"Grande Rocheuse",v:"4 102",z:"Francie",obt:"C",pohori:"Aiguille Verte",imgs:[0],povidani:""},
{p:"52",hora:"Barre des Ecrins",v:"4 101",z:"Francie",obt:"B+",pohori:"Barre des Ecrins",imgs:[0],povidani:""},
{p:"53",hora:"Mönch",v:"4 099",z:"Švýcarsko",obt:"B",pohori:"Jungfrau",imgs:[0],povidani:""},
{p:"54",hora:"Pointe Médiane",v:"4 097",z:"Francie",obt:"D+",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"55",hora:"Pollux / Polucce",v:"4 092",z:"Itálie / Švýcarsko",obt:"B",pohori:"Liskamm",imgs:[0],povidani:""},
{p:"56",hora:"Schreckhorn",v:"4 078",z:"Švýcarsko",obt:"C+",pohori:"Schreckhorn",imgs:[0],povidani:""},
{p:"57",hora:"Roccia Nera",v:"4 075",z:"Itálie / Švýcarsko",obt:"B-",pohori:"Liskamm",imgs:[0],povidani:""},
{p:"58",hora:"Pointe Chaubert",v:"4 074",z:"Francie",obt:"D+",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"59",hora:"Mont Brouillard",v:"4 068",z:"Itálie",obt:"C",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"60",hora:"Punta Margherita",v:"4 065",z:"Itálie",obt:"C",pohori:"Grandes Jorasses",imgs:[0],povidani:""},
{p:"61",hora:"Corne du Diable",v:"4 064",z:"Francie",obt:"C",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"62",hora:"Ober Gabelhorn",v:"4 063",z:"Švýcarsko",obt:"C-",pohori:"Weisshorn",imgs:[0],povidani:""},
{p:"63",hora:"Gran Paradiso",v:"4 061",z:"Itálie",obt:"B-",pohori:"Gran Paradiso",imgs:[0],povidani:""},
{p:"64",hora:"Aiguille de Bionnassay",v:"4 052",z:"Francie",obt:"B+",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"65",hora:"Piz Bernina",v:"4 049",z:"Švýcarsko / Itálie",obt:"B",pohori:"Piz Bernina",imgs:[0],povidani:""},
{p:"66",hora:"Gross Fiescherhorn",v:"4 049",z:"Švýcarsko",obt:"B",pohori:"Jungfrau",imgs:[0],povidani:""},
{p:"67",hora:"Punta Giordani",v:"4 046",z:"Itálie",obt:"A",pohori:"Monte Rosa",imgs:[0],povidani:""},
{p:"68",hora:"Gross Grünhorn",v:"4 044",z:"Švýcarsko",obt:"B+",pohori:"Jungfrau",imgs:[0],povidani:""},
{p:"69",hora:"Punta Elena",v:"4 042",z:"Itálie",obt:"C",pohori:"Grandes Jorasses",imgs:[0],povidani:""},
{p:"70",hora:"Lauteraarhorn",v:"4 042",z:"Švýcarsko",obt:"C-",pohori:"Schreckhorn",imgs:[0],povidani:""},
{p:"71",hora:"Aiguille du Jardin",v:"4 035",z:"Francie",obt:"C",pohori:"Aiguille Verte",imgs:[0],povidani:""},
{p:"72",hora:"Dirruhorn",v:"4 035",z:"Švýcarsko",obt:"B+",pohori:"Mischabel",imgs:[0],povidani:""},
{p:"73",hora:"Allalinhorn",v:"4 027",z:"Švýcarsko",obt:"B-",pohori:"Allalinhorn",imgs:[0],povidani:""},
{p:"74",hora:"Hinter Fiescherhorn",v:"4 025",z:"Švýcarsko",obt:"B",pohori:"Jungfrau",imgs:[0],povidani:""},
{p:"75",hora:"Weissmies",v:"4 023",z:"Švýcarsko",obt:"B",pohori:"Weissmies",imgs:[0],povidani:""},
{p:"76",hora:"Dôme de Rochefort",v:"4 015",z:"Itálie / Francie",obt:"C",pohori:"Grandes Jorasses",imgs:[0],povidani:""},
{p:"77",hora:"Dôme de Neige des Ecrins",v:"4 015",z:"Francie",obt:"A",pohori:"Barre des Ecrins",imgs:[0],povidani:""},
{p:"78",hora:"Dente del Gigante",v:"4 014",z:"Itálie / Francie",obt:"C",pohori:"Grandes Jorasses",imgs:[0],povidani:""},
{p:"79",hora:"Lagginhorn",v:"4 010",z:"Švýcarsko",obt:"B",pohori:"Weissmies",imgs:[0],povidani:""},
{p:"80",hora:"Punta Baretti",v:"4 006",z:"Itálie",obt:"C",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"81",hora:"Aiguille de Rochefort",v:"4 001",z:"Francie / Itálie",obt:"C",pohori:"Mont Blank",imgs:[0],povidani:""},
{p:"82",hora:"Les Droites",v:"4 000",z:"Francie",obt:"C",pohori:"Aiguille Verte",imgs:[0],povidani:""}
];

/* --- Kontrola existence obrázku --- */
async function imageExists(url){
  try{
    const res = await fetch(url, { method: "HEAD" });
    return res.ok;
  }catch{
    return false;
  }
}

/* --- Modal --- */
const modal = document.getElementById("modal-backdrop");
const modalContent = document.getElementById("modal-content");

function closeModal(){
  modal.classList.remove("show");
  setTimeout(()=>{
    modal.hidden = true;
    modalContent.innerHTML = "";
    document.body.style.overflow = "";
  },200);
}

function openModal(html,isFullscreen=false){
  const box = modal.querySelector(".modal");
  box.classList.toggle("fullscreen",isFullscreen);
  modalContent.innerHTML = html;
  modal.hidden = false;
  requestAnimationFrame(()=>{
    modal.classList.add("show");
    document.body.style.overflow = "hidden";
  });
}

modal.addEventListener("click", e => {
  if(e.target === modal) closeModal();
});

/* --- Obrázky Koruna/Alpy --- */
async function buildImgGrid(imgFn,nums,alt,dataIndex,dataArr,type){
  const safe = Array.isArray(nums)? nums.slice(0,9) : [];
  const html = [];
  for(const n of safe){
    const url = imgFn(n);
    if(await imageExists(url)){
      html.push(`<img class="grid-img" src="${url}" alt="${alt}" onclick="openMountainSlideshow(${dataIndex},${safe.indexOf(n)},'${type}')">`);
    }
  }
  if(html.length===0){
    html.push(`<img class="grid-img" src="${imgFn(0)}" alt="placeholder">`);
  }
  return `<div class="img-grid">${html.join("")}</div>`;
}

async function showDetail(data,i,imgFn,type){
  const it = data[i];
  const meta = `
    ${it.z?`<div>Země:</div><div>${it.z}</div>`:""}
    ${it.d?`<div>Datum výstupu:</div><div>${it.d}</div>`:""}
    ${it.cas?`<div>Čas výstupu:</div><div>${it.cas}</div>`:""}
    ${it.team?`<div>Tým:</div><div>${it.team}</div>`:""}
    ${it.obt?`<div>Obtížnost:</div><div>${it.obt}</div>`:""}
    ${it.pohori?`<div>Pohoří:</div><div>${it.pohori}</div>`:""}
  `;
  const imgs = it.imgs || [];
  const povidani = it.povidani || "Popis výstupu bude ještě doplněn";
  openModal(`
    <button class="modal-close" onclick="closeModal()">✕</button>
    <h3>${it.p}/${data.length} – ${it.hora} ${it.v?`${it.v} m`:""}</h3>
    <hr>
    <div class="meta-grid">${meta}</div>
    ${await buildImgGrid(imgFn,imgs,it.hora,i,data,type)}
    <div class="povidani">${povidani}</div>
  `);
}

/* --- Fullscreen slideshow pro Koruna/Alpy --- */
let activeSet = [], activeIndex = 0, activeType = "", activeMountainName = "";

function openMountainSlideshow(index,photoIndex,type){
  activeType = type;
  const data = type === "koruna" ? korunaData : alpyData;
  const item = data[index];
  activeSet = item.imgs || [];
  activeMountainName = item.hora;
  if(activeSet.length===0) activeSet = [0];
  activeIndex = photoIndex;

  openModal(`
    <button class="nav-arrow left" id="nav-left">❮</button>
    <button class="nav-arrow right" id="nav-right">❯</button>
    <h3 id="mountain-title"></h3>
    <button class="modal-close" id="modal-close">✕</button>
    <img class="main fade" id="mountain-main" src="">
  `,true);

  document.getElementById("modal-close").onclick = closeModal;
  document.getElementById("nav-left").onclick = e => { e.stopPropagation(); changeMountain(-1); };
  document.getElementById("nav-right").onclick = e => { e.stopPropagation(); changeMountain(1); };

  updateMountainModal(true);
}

function changeMountain(dir){
  activeIndex = (activeIndex + dir + activeSet.length) % activeSet.length;
  updateMountainModal();
}

function updateMountainModal(first=false){
  const imgEl = document.getElementById("mountain-main");
  const title = document.getElementById("mountain-title");
  const fn = activeType === "koruna" ? imgKoruna : imgAlpy;
  const url = fn(activeSet[activeIndex]);

  if(!first) imgEl.classList.remove("show");
  setTimeout(()=>{
    imgEl.src = url;
    title.textContent = `${activeMountainName} ${activeIndex+1}/${activeSet.length}`;
    imgEl.onload = () => imgEl.classList.add("show");
  }, first ? 0 : 150);
}

/* --- Gesta --- */
let sx=0, sy=0, ex=0, ey=0;
modal.addEventListener("touchstart", e=>{
  sx = e.changedTouches[0].screenX;
  sy = e.changedTouches[0].screenY;
});
modal.addEventListener("touchend", e=>{
  ex = e.changedTouches[0].screenX;
  ey = e.changedTouches[0].screenY;
  const dx = ex - sx, dy = ey - sy;
  if(Math.abs(dx) > Math.abs(dy)){
    if(Math.abs(dx) > 50){
      if(activeType){
        dx > 0 ? changeMountain(-1) : changeMountain(1);
      }else{
        dx > 0 ? changeNepal(-1) : changeNepal(1);
      }
    }
  }else if(Math.abs(dy) > 60){
    closeModal();
  }
});

document.addEventListener("keydown", e=>{
  if(!modal.classList.contains("show")) return;
  if(e.key === "Escape") closeModal();
  if(e.key === "ArrowLeft"){ activeType ? changeMountain(-1) : changeNepal(-1); }
  if(e.key === "ArrowRight"){ activeType ? changeMountain(1) : changeNepal(1); }
});

/* --- Karty --- */
function cardKoruna(it,i){
  const el=document.createElement("div");
  el.className="photo-card";
  const firstImg=(it.imgs&&it.imgs.length>0)?it.imgs[0]:0;
  el.innerHTML=`
    <img class="photo" src="${imgKoruna(firstImg)}" loading="lazy">
    <div class="photo-overlay">
      <div class="photo-title">${it.p}. ${it.hora} ${it.v?`${it.v} m`:""}</div>
      <div class="photo-sub">${it.z||""} ${it.d||""}</div>
    </div>`;
  el.onclick=()=>showDetail(korunaData,i,imgKoruna,"koruna");
  return el;
}

function cardAlpy(it,i){
  const el=document.createElement("div");
  el.className="photo-card";
  const firstImg=(it.imgs&&it.imgs.length>0)?it.imgs[0]:0;
  el.innerHTML=`
    <img class="photo" src="${imgAlpy(firstImg)}" loading="lazy">
    <div class="photo-overlay">
      <div class="photo-title">${it.p}. ${it.hora} ${it.v?`${it.v} m`:""}</div>
      <div class="photo-sub">${it.z||""} ${it.d||""}</div>
    </div>`;
  el.onclick=()=>showDetail(alpyData,i,imgAlpy,"alpy");
  return el;
}

function cardSimple(it,i){
  const el=document.createElement("div");
  el.className="photo-card";
  el.innerHTML=`
    <img class="photo" src="${it.img}" loading="lazy">
    <div class="photo-overlay"><div class="photo-title">${it.title}</div></div>`;
  el.onclick=()=>openNepalModal(i);
  return el;
}

/* --- Nepál fullscreen --- */
const nepalData = Array.from({length:40},(_,i)=>({idx:i,title:`Nepál ${i+1}`,img:imgNepal(i+1)}));
let nepalIndex=0;

function openNepalModal(i){
  nepalIndex=i;
  openModal(`
    <button class="nav-arrow left" id="nav-left">❮</button>
    <button class="nav-arrow right" id="nav-right">❯</button>
    <h3 id="nepal-title"></h3>
    <button class="modal-close" id="modal-close">✕</button>
    <img class="main fade" id="nepal-main" src="">
  `,true);
  document.getElementById("modal-close").onclick=closeModal;
  document.getElementById("nav-left").onclick=e=>{e.stopPropagation();changeNepal(-1);};
  document.getElementById("nav-right").onclick=e=>{e.stopPropagation();changeNepal(1);};
  updateNepalModal(true);
}

function changeNepal(dir){
  nepalIndex=(nepalIndex+dir+nepalData.length)%nepalData.length;
  updateNepalModal();
}

function updateNepalModal(first=false){
  const it=nepalData[nepalIndex];
  const img=document.getElementById("nepal-main");
  const title=document.getElementById("nepal-title");
  if(!first) img.classList.remove("show");
  setTimeout(()=>{
    img.src=it.img;
    title.textContent=`Nepál ${nepalIndex+1}/${nepalData.length}`;
    img.onload=()=>img.classList.add("show");
  },first?0:150);
}

/* --- Galerie render + navigace --- */
document.addEventListener("DOMContentLoaded",()=>{
  function renderGallery(el,data,fn){
    el.innerHTML="";
    data.forEach((it,i)=>el.appendChild(fn(it,i)));
  }
  renderGallery(document.getElementById("koruna-gallery"),korunaData,cardKoruna);
  renderGallery(document.getElementById("alpy-gallery"),alpyData,cardAlpy);
  renderGallery(document.getElementById("nepal-gallery"),nepalData,cardSimple);

  const btns=document.querySelectorAll(".btn");
  const sections=document.querySelectorAll("[data-route-content]");

  function show(route){
    sections.forEach(s=>s.hidden=(s.id!==route));
    btns.forEach(b=>b.classList.toggle("active",b.dataset.route===route));
    history.replaceState(null,"","#"+route);
    window.scrollTo({top:0,left:0,behavior:"instant"});
  }

  btns.forEach(b=>b.addEventListener("click",()=>show(b.dataset.route)));
  window.addEventListener("popstate",()=>show(location.hash.substring(1)||"koruna"));
  show(location.hash?location.hash.substring(1):"koruna");
});
</script>

</body>
</html>
