<!doctype html>
<html lang="cs">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vzít batoh na záda a jít ...</title>
<style>
:root{
  --dark-blue:#041633;
  --accent:#ffffff;
  --max-width:1200px;
}

html,body{
  margin:0;padding:0;
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  color:var(--accent);
  background:var(--dark-blue);
  overflow-x:hidden;
}

/* Panorama sekce */
.hero{
  position:relative;
  width:100%;
  height:100vh;
  overflow:hidden;
  background:var(--dark-blue);
}
.hero-bg{
  position:absolute;
  inset:0;
  background:url("https://raw.githubusercontent.com/suchanek76/website/main/images/background.jpg")
             no-repeat center top;
  background-size:cover;
  z-index:0;
}
/* žádný přechod */
.hero-overlay{
  position:relative;
  z-index:2;
  height:100%;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;     /* posunout obsah nahoru */
  align-items:center;
  text-align:center;
  padding-top:100px;              /* pozice textu a tlačítek výš */
}
.hero h1{
  font-size:clamp(30px,6vw,56px);
  margin:0;
  text-shadow:0 3px 10px rgba(0,0,0,0.5);
}
.nav{
  margin-top:18px;
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  justify-content:center;
}
.btn{
  background:rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.2);
  padding:10px 18px;
  color:white;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
  transition:background .2s;
}
.btn:hover{background:rgba(255,255,255,0.25);}
.btn.active{background:#fff;color:var(--dark-blue);}

/* Galerie překrývá spodní část panoramatu */
main{
  position:relative;
  margin-top:-420px;   /* galerie výš */
  z-index:3;
  background:none;
  padding-top:100px;
  padding-bottom:80px;
}
.container{
  width:95%;
  max-width:var(--max-width);
  margin:0 auto;
}

/* Galerie mřížka */
.gallery{
  display:grid;
  gap:16px;
}
.grid-3{grid-template-columns:repeat(3,1fr);}
.grid-4{grid-template-columns:repeat(4,1fr);}
@media(max-width:1000px){
  .grid-3{grid-template-columns:repeat(2,1fr);}
  .grid-4{grid-template-columns:repeat(2,1fr);}
}
@media(max-width:600px){
  .grid-3,.grid-4{grid-template-columns:1fr;}
}

/* Fotokarta 3:2 s popiskem */
.photo-card{
  position:relative;
  overflow:hidden;
  border-radius:10px;
  cursor:pointer;
  background:#000;
}
.photo-card img.photo{
  width:100%;
  aspect-ratio:3/2;
  object-fit:cover;
  transition:transform .35s ease;
}
.photo-card:hover img.photo{transform:scale(1.04);}
.photo-overlay{
  position:absolute;
  left:0;right:0;bottom:0;
  padding:10px;
  background:linear-gradient(to top,rgba(0,0,0,0.7),rgba(0,0,0,0));
}
.photo-title{font-weight:700;font-size:14px;margin:0;}
.photo-sub{font-size:12px;opacity:0.9;margin-top:3px;}

/* Modal */
.modal-backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,0.7);
  display:flex;align-items:center;justify-content:center;
  z-index:9999;padding:24px;opacity:0;pointer-events:none;
  transition:opacity .18s;
}
.modal-backdrop.show{opacity:1;pointer-events:auto;}
.modal{
  width:100%;max-width:940px;max-height:92vh;
  background:#071431;border-radius:10px;padding:18px;color:#fff;
  overflow:auto;position:relative;
}
.modal-close{
  position:absolute;right:16px;top:16px;
  background:none;border:none;color:white;font-size:22px;cursor:pointer;
}
.modal img.main{
  width:100%;border-radius:8px;object-fit:cover;
  margin:12px 0;max-height:480px;
}
.thumb-row{
  display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;
}
.thumb-row img{
  width:calc((100% - 24px)/4);height:80px;
  object-fit:cover;border-radius:6px;cursor:pointer;
  border:2px solid transparent;
}
.thumb-row img.selected{border-color:white;}
.nav-arrow{
  position:absolute;top:50%;transform:translateY(-50%);
  background:rgba(0,0,0,0.4);border:none;color:white;
  font-size:22px;padding:8px 10px;border-radius:50%;cursor:pointer;
}
.nav-arrow.left{left:8px;} .nav-arrow.right{right:8px;}
footer{text-align:center;color:rgba(255,255,255,0.6);padding:30px 0;}
</style>
</head>
<body>

<header class="hero">
  <div class="hero-bg"></div>
  <div class="hero-overlay">
    <h1>Vzít batoh na záda a jít ...</h1>
    <div class="nav">
      <button class="btn active" data-route="koruna">Koruna Evropy</button>
      <button class="btn" data-route="alpy">Alpské čtyřtisícovky</button>
      <button class="btn" data-route="nepal">Nepál</button>
    </div>
  </div>
</header>

<main>
  <div class="container">
    <section id="koruna" data-route-content>
      <div id="koruna-gallery" class="gallery grid-3"></div>
    </section>
    <section id="alpy" data-route-content hidden>
      <div id="alpy-gallery" class="gallery grid-3"></div>
    </section>
    <section id="nepal" data-route-content hidden>
      <div id="nepal-gallery" class="gallery grid-4"></div>
    </section>
  </div>
</main>

<div id="modal-backdrop" class="modal-backdrop" hidden>
  <div class="modal">
    <button class="modal-close" id="modal-close">✕</button>
    <div id="modal-content"></div>
  </div>
</div>

<footer>© Vzít batoh na záda a jít ...</footer>

<script>
const RAW="https://raw.githubusercontent.com/suchanek76/website/main/images";
function pad(n){return String(n).padStart(2,"0");}
function range(path,prefix,count){
  return Array.from({length:count},(_,i)=>({
    id:`${prefix}-${i+1}`,
    img:`${path}/${prefix}${pad(i+1)}.jpg`,
    title:`${prefix} ${i+1}`,
    country:"Evropa",
    height:`${1500+Math.floor(Math.random()*3000)} m`,
    date:`${2020+Math.floor(Math.random()*5)}`
  }));
}
const koruna=range(`${RAW}/Koruna`,"Koruna",43);
const alpy=range(`${RAW}/4000`,"ctyrtisicovka",82);
const nepal=range(`${RAW}/Nepal`,"Nepal",40);

/* Render galleries */
function createCard(it,onClick){
  const d=document.createElement("div");
  d.className="photo-card";
  d.innerHTML=`
    <img class="photo" src="${it.img}" alt="${it.title}">
    <div class="photo-overlay">
      <div class="photo-title">${it.title}</div>
      <div class="photo-sub">${it.height} · ${it.country} · ${it.date}</div>
    </div>`;
  d.addEventListener("click",()=>onClick(it));
  return d;
}
function renderGallery(el,arr,onClick){
  el.innerHTML="";arr.forEach(it=>el.appendChild(createCard(it,onClick)));
}
const korEl=document.getElementById("koruna-gallery");
const alpEl=document.getElementById("alpy-gallery");
const nepEl=document.getElementById("nepal-gallery");

/* Modal logic */
const modal=document.getElementById("modal-backdrop");
const content=document.getElementById("modal-content");
const closeBtn=document.getElementById("modal-close");
closeBtn.onclick=()=>{modal.classList.remove("show");setTimeout(()=>modal.hidden=true,150);};
function openModal(html){
  content.innerHTML=html;
  modal.hidden=false;setTimeout(()=>modal.classList.add("show"),10);
}

/* Koruna detail */
function showKoruna(it){
  openModal(`<h3>${it.title}</h3>
    <div>${it.height} · ${it.country} · ${it.date}</div>
    <img class="main" src="${it.img}">
    <div class="thumb-row">
      <img src="${it.img}" class="selected">
      <img src="${it.img}">
      <img src="${it.img}">
      <img src="${it.img}">
    </div>`);
}

/* Alpy detail */
function showAlpy(it){
  openModal(`<h3>${it.title}</h3><img class="main" src="${it.img}">`);
}

/* Nepál slideshow */
let nepIndex=0;
function showNepalAt(i){
  nepIndex=(i+nepal.length)%nepal.length;
  const it=nepal[nepIndex];
  openModal(`<div style="position:relative">
    <h3>${it.title}</h3>
    <button class="nav-arrow left" id="left">◀</button>
    <img class="main" id="mainNep" src="${it.img}">
    <button class="nav-arrow right" id="right">▶</button>
  </div>`);
  document.getElementById("left").onclick=e=>{e.stopPropagation();showNepalAt(nepIndex-1);}
  document.getElementById("right").onclick=e=>{e.stopPropagation();showNepalAt(nepIndex+1);}
  document.addEventListener("keydown",function k(e){
    if(e.key==="ArrowLeft"){showNepalAt(nepIndex-1);}
    if(e.key==="ArrowRight"){showNepalAt(nepIndex+1);}
    document.removeEventListener("keydown",k);
  });
  const img=document.getElementById("mainNep");
  let startX=null;
  img.addEventListener("touchstart",e=>startX=e.touches[0].clientX,{passive:true});
  img.addEventListener("touchend",e=>{
    if(startX==null)return;
    const dx=e.changedTouches[0].clientX-startX;
    if(Math.abs(dx)>40){dx>0?showNepalAt(nepIndex-1):showNepalAt(nepIndex+1);}
    startX=null;
  },{passive:true});
}

/* Render all galleries */
renderGallery(korEl,koruna,showKoruna);
renderGallery(alpEl,alpy,showAlpy);
renderGallery(nepEl,nepal,(it)=>showNepalAt(nepal.findIndex(x=>x.id===it.id)));

/* Routing */
const btns=document.querySelectorAll(".btn");
const secs=document.querySelectorAll("[data-route-content]");
function show(r){
  secs.forEach(s=>s.hidden=s.id!==r);
  btns.forEach(b=>b.classList.toggle("active",b.dataset.route===r));
}
btns.forEach(b=>b.onclick=()=>show(b.dataset.route));
show("koruna");
</script>
</body>
</html>
